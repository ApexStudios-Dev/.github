on:
    workflow_call:
        inputs:
            version:
                type: string
                required: true
            name:
                type: string
                required: true
            logo:
                type: string
                required: true
            color:
                type: string
                required: true

jobs:
    announce-discord:
        name: Announce to Discord - v${{ inputs.version }}
        runs-on: apexstudios
        steps:
            - name: Announce to Discord
              run: |
                  curl -H "Content-Type: application/json" -X POST -d '{
                  "content": "",
                  "embeds": [
                      {
                          "title": "${{ inputs.name }} updated to v${{ inputs.version }}!",
                          "footer": {
                              "text": "ApexStudios",
                              "icon_url": "https://raw.githubusercontent.com/ApexStudios-Dev/.github/refs/heads/master/assets/apexstudios/Logo.png"
                          },
                          "thumbnail": { "url": "${{ inputs.logo }}" },
                          "color": ${{ inputs.color }}
                      }
                  ],
                  "username": "ApexStudios",
                  "avatar_url": "https://raw.githubusercontent.com/ApexStudios-Dev/.github/refs/heads/master/assets/apexstudios/Logo.png"
                  }' "https://discord.com/api/webhooks/1340365702191775816/IP5VcQ2G95SSoYvR0IQTJkmKqICqJUwMoVxkFzvFVAEIHYCMO4T0wBzW_WMFWpdrzXKR"
